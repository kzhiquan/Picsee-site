(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{509:function(e,t,r){"use strict";r.r(t);var a=r(42),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"简介"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),r("p",[e._v("Picsee-site是基于VUEPRESS开发的，基于它的目的, 是利用其MarkDown编写静态博客的功能，那么后期在推广时，可把功能点的介绍写成博文(基于MarkDown来写)。而站点首页的个性化展示，由于VUEPRESS是基于VUE开发的，利用tailwindcss样式库，自行基于VUE定制开发的。这样，就达到了目的，其一用MarkDown写博客，其二个性化某些页面，其三纯静态方便部署")]),e._v(" "),r("h2",{attrs:{id:"运行站点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#运行站点"}},[e._v("#")]),e._v(" 运行站点")]),e._v(" "),r("ul",[r("li",[e._v("环境：node(v12.5.0), npm(6.9.0)")]),e._v(" "),r("li",[e._v("安装：npm install")]),e._v(" "),r("li",[e._v("构建：npm run build")]),e._v(" "),r("li",[e._v("运行：npm run dev")])]),e._v(" "),r("h2",{attrs:{id:"站点部署"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#站点部署"}},[e._v("#")]),e._v(" 站点部署")]),e._v(" "),r("p",[e._v("站点采用集成部署，源码在GitHub上，利用"),r("a",{attrs:{href:"https://travis-ci.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Travis CI"),r("OutboundLink")],1),e._v("服务，只要git commit了，Travis CI就会自动构建，生成静态内容，然后根据秘匙设置，自动将生成的静态内容上传到服务器的指定目录，而在服务器上安装了nginx，已把指定目录作为web服务发布。")]),e._v(" "),r("ul",[r("li",[e._v("站点remote master在github上"),r("a",{attrs:{href:"https://github.com/kzhiquan/Picsee-site",target:"_blank",rel:"noopener noreferrer"}},[e._v("Picsee-site"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("集成服务 Travis CI, "),r("a",{attrs:{href:"https://blog.lbinin.com/frontEnd/Git/Travis-CI.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("相关教程"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("站点部署在服务器的 /www/picsee 和 /www/blog 目录，即资源文件在这里")]),e._v(" "),r("li",[e._v("nginx 配置文件如下, 在/etc/nginx/sites-available配置一个Config, 在/etc/nginx/enabled ln到它。")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n        listen 443 http2 ssl;\n        ssl_certificate /etc/chitaner.com.pem;\n        ssl_certificate_key /etc/chitaner.com.key;\n\n        root /www/$subdomain;\n\n        # Add index.php to the list if you are using PHP\n        index index.html index.htm index.nginx-debian.html;\n\n        server_name ~^(?<subdomain>.+)\\.chitaner\\.com$;\n\n        location / {\n                # First attempt to serve request as file, then\n                # as directory, then fall back to displaying a 404.\n                try_files $uri $uri/ =404;\n        }\n}\n")])])]),r("h2",{attrs:{id:"开发依赖"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开发依赖"}},[e._v("#")]),e._v(" 开发依赖")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VUEPRESS"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://cn.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VUE"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://tailwindcss.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("tailwindcss"),r("OutboundLink")],1)])]),e._v(" "),r("h2",{attrs:{id:"换ip操作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#换ip操作"}},[e._v("#")]),e._v(" 换IP操作")]),e._v(" "),r("ul",[r("li",[e._v("在服务器完成克隆的情况下，"),r("a",{attrs:{href:"https://my.vultr.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("vultr"),r("OutboundLink")],1),e._v("提供镜像复制服务\n"),r("ul",[r("li",[e._v("域名指向需要更换, 在cloudflare中DNS设置")]),e._v(" "),r("li",[e._v("Travis CI 指向服务器需要更换 .travis.yml文件")]),e._v(" "),r("li",[e._v("v2ray 需要重新导出链接，设置客户端")])])]),e._v(" "),r("li",[e._v("在服务器重新安装的情况下，需要安装服务器环境，后期准备制作docker镜像")])]),e._v(" "),r("h2",{attrs:{id:"域名说明"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#域名说明"}},[e._v("#")]),e._v(" 域名说明")]),e._v(" "),r("ul",[r("li",[e._v("chitaner.com 购买于godaddy，在godaddy设置域名服务器在cloudflare")]),e._v(" "),r("li",[e._v("域名服务器设置在cloudflare, 所在DNS设置在此")]),e._v(" "),r("li",[e._v("HTTPS证书设置在cloudflare, 证书下载")])]),e._v(" "),r("h2",{attrs:{id:"关于v2ray"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#关于v2ray"}},[e._v("#")]),e._v(" 关于V2Ray")]),e._v(" "),r("ul",[r("li",[e._v("在安装V2Ray后, 修改配置\n"),r("ul",[r("li",[e._v("直接在命令行输入v2ray，安装操作提示，选择1,2, ... 提示操作")])])]),e._v(" "),r("li",[e._v("未安装情况，见下")])]),e._v(" "),r("h2",{attrs:{id:"服务器环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#服务器环境"}},[e._v("#")]),e._v(" 服务器环境")]),e._v(" "),r("ul",[r("li",[e._v("服务器操作系统ubuntu 19.04")]),e._v(" "),r("li",[e._v("安装nginx1.15.9")]),e._v(" "),r("li",[e._v("由于开启了HTTPS, 所以在nginx配置中，需要有 ssl_certificate /etc/chitaner.com.pem; ssl_certificate_key /etc/chitaner.com.key; 使用cloudflare的STL服务，key和pem在服务器中配置，详请见"),r("a",{attrs:{href:"https://www.flyzy2005.com/build-page/cloudflare-free-https/",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用Cloudflare免费https证书"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("由于使用集成部署服务，Travis CI, 需要登录到服务器，ssh-keygen 生成密钥对之后，我们需要将 id_rsa_blog.pub 里面的内容，复制到服务器的 ~/.ssh/authorized_keys 文件里，详情见"),r("a",{attrs:{href:"https://blog.lbinin.com/frontEnd/Git/Travis-CI.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用 Travis CI 实现 GitHub + Server 自动部署\n"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("安装V2Ray, 有一键安装脚本，并在本地备份了脚本")])]),e._v(" "),r("h2",{attrs:{id:"相关站点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#相关站点"}},[e._v("#")]),e._v(" 相关站点")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://travis-ci.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("travis"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://dash.cloudflare.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("cloudflare"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://my.vultr.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("vultr"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://sg.godaddy.com/zh",target:"_blank",rel:"noopener noreferrer"}},[e._v("godaddy"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);